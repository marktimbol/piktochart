{"version":3,"sources":["ruler.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ruler.js","sourcesContent":["\n\nvar setScale = function (newScale){\n\tvar curPos, orgDelta, curScaleFac;\n\tforEachRuler(function (rul){\n\t\trul.context.clearRect(0, 0, rul.canvas.width, rul.canvas.height);\n\t\trul.context.beginPath();\n\t\trul.setScale(newScale);\n\t\trul.context.stroke();\n\t});\n\n\tguides.forEach(function (guide){\n\t\tif(guide.dimension === HORIZONTAL){\n\t\t\tcurPos = parseInt(guide.line.guideLine.style.top);\n\t\t\torgDelta = options.rulerHeight + 1;\n\t\t\tcurScaleFac = (parseFloat(newScale) / guide.line.curScale());\n\t\t\tguide.line.guideLine.style.top = ruler.utils.pixelize(((curPos - orgDelta - CUR_DELTA_Y ) / curScaleFac) +  orgDelta + CUR_DELTA_Y);\n\t\t\tguide.line.curScale(newScale);\n\t\t}\n\t\telse {\n\t\t\tcurPos = parseInt(guide.line.guideLine.style.left);\n\t\t\torgDelta = options.rulerHeight + 1;\n\t\t\tcurScaleFac = (parseFloat(newScale) / guide.line.curScale());\n\t\t\tguide.line.guideLine.style.left = ruler.utils.pixelize(((curPos - orgDelta - CUR_DELTA_X) / curScaleFac)  + orgDelta + CUR_DELTA_X);\n\t\t\tguide.line.curScale(newScale);\n\t\t}\n\t});\n};\n\n\nvar clearGuides = function (){\n\tguides.forEach(function (guide){\n\t\tguide.line.destroy();\n\t});\n\tguides = [];\n};\n\nvar toggleGuideVisibility = function (val){\n\tvar func = val ? 'show' : 'hide';\n\tguides.forEach(function (guide){\n\t\tguide.line[func]();\n\t});\n};\n\nvar toggleRulerVisibility = function (val){\n\tvar state = val ? 'block' : 'none';\n\ttheRulerDOM.style.display = state;\n\tvar trackers = document.querySelector('.rul_tracker');\n\tif(trackers){\n\t\ttrackers.style.display = state;\n\t}\n\n};\n\n\nmodule.export =  {\n\tVERTICAL: VERTICAL,\n\tHORIZONTAL: HORIZONTAL,\n\tsetPos: setPos,\n\tsetScale: setScale,\n\tclearGuides: clearGuides,\n\tconstructRulers: constructRulers,\n\ttoggleRulerVisibility: toggleRulerVisibility,\n\ttoggleGuideVisibility: toggleGuideVisibility\n}\n})();\n"],"sourceRoot":"/source/"}